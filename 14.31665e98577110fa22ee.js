(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"f+ep":function(n,l,u){"use strict";u.r(l);var e=u("CcnG"),o=u("Cs7S"),t=function(){function n(){}return Object.defineProperty(n.prototype,"Username",{get:function(){return this.username},set:function(n){this.username=n},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"Email",{get:function(){return this.email},set:function(n){this.email=n},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"Password",{get:function(){return this.password},set:function(n){this.password=n},enumerable:!0,configurable:!0}),n}(),r=u("t/Na"),i=u("XlPw"),a=u("9Z1F"),s=function(){function n(n,l){this.http=n,this.utilService=l,this.url=o.a.rootUri+"auth/login",this.httpOptions={headers:new r.g({"Content-Type":"application/json"})}}return n.prototype.validate=function(n){var l=this;return this.http.post(this.url,n,this.httpOptions).pipe(Object(a.a)(function(n){return l.handleError(n)}))},n.prototype.handleError=function(n){return n.error instanceof ErrorEvent?console.error("An error occurred:",n.error.message):console.error("Backend returned code "+n.status+", body was: "+n.error),Object(i.a)(n.error.message)},n.ngInjectableDef=e.U({factory:function(){return new n(e.Y(r.c),e.Y(o.a))},token:n,providedIn:"root"}),n}(),c=(u("OO+k"),u("f9ZW")),b=function(){function n(n,l,u,e,o){this.cookieService=n,this.navCtl=l,this.utilService=u,this.router=e,this.loginService=o,this.user=new t,this.cookieService.getTkn()&&(console.log("Login constructor"),this.navCtl.navigateForward("/home"))}return n.prototype.ngOnInit=function(){this.cookieService.getTkn()&&(console.log("Login OnInit"),this.navCtl.navigateForward("/home"))},n.prototype.login=function(){var n=this;this.loginService.validate(this.user).subscribe(function(l){null!=l&&void 0!=l.token?(n.utilService.setLogedin(!0),n.cookieService.set("_token",l.token,1,location.href,location.hostname,!0),n.navCtl.navigateForward("/home")):n.errorMsg="Unauthorized user"},function(l){n.errorMsg=l})},n}(),g=function(){},d=u("pMnS"),p=u("ra/t"),h=u("ntG5"),f=u("M9A9"),v=u("ZYCi"),C=u("Zq1E"),m=u("gIcY"),y=u("Ip0R"),k=u("tXrQ"),w=e.pb({encapsulation:0,styles:[["img[_ngcontent-%COMP%]{height:40vh;width:auto;margin:auto;display:block}"]],data:{}});function A(n){return e.Eb(0,[(n()(),e.rb(0,0,null,null,2,"ion-label",[["color","danger"]],null,null,null,p.D,p.l)),e.qb(1,49152,null,0,h.L,[e.l],{color:[0,"color"]},null),(n()(),e.Db(2,0,["",""]))],function(n,l){n(l,1,0,"danger")},function(n,l){n(l,2,0,l.component.errorMsg)})}function q(n){return e.Eb(0,[(n()(),e.rb(0,0,null,null,40,"section",[["ion-content",""]],null,null,null,null,null)),(n()(),e.rb(1,0,null,null,39,"div",[["class","container"]],null,null,null,null,null)),(n()(),e.rb(2,0,null,null,38,"div",[["class","row"]],null,null,null,null,null)),(n()(),e.rb(3,0,null,null,1,"div",[["class","col-sm-12"]],null,null,null,null,null)),(n()(),e.rb(4,0,null,null,0,"img",[["alt","BBG"],["class","img-responsive"],["src","assets/logo.jpg"],["style","text-align: center;"]],null,null,null,null,null)),(n()(),e.rb(5,0,null,null,35,"div",[["class","col-sm-12"]],null,null,null,null,null)),(n()(),e.rb(6,0,null,null,12,"ion-item",[],null,[[null,"click"]],function(n,l,u){var o=!0;return"click"===l&&(o=!1!==e.Ab(n,8).onClick(u)&&o),o},p.C,p.i)),e.qb(7,49152,null,0,h.F,[e.l],null,null),e.qb(8,16384,null,0,f.a,[[2,v.l],e.l],null,null),(n()(),e.rb(9,0,null,0,2,"ion-label",[["position","floating"]],null,null,null,p.D,p.l)),e.qb(10,49152,null,0,h.L,[e.l],{position:[0,"position"]},null),(n()(),e.Db(-1,0,["Username"])),(n()(),e.rb(12,0,null,0,6,"ion-input",[["autofocus","true"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionChange"],[null,"ionBlur"]],function(n,l,u){var o=!0,t=n.component;return"ionChange"===l&&(o=!1!==e.Ab(n,13)._handleInputEvent(u.target.value)&&o),"ionBlur"===l&&(o=!1!==e.Ab(n,13)._handleBlurEvent()&&o),"ngModelChange"===l&&(o=!1!==(t.user.Username=u)&&o),o},p.z,p.h)),e.qb(13,16384,null,0,C.a,[e.l],null,null),e.Bb(1024,null,m.b,function(n){return[n]},[C.a]),e.qb(15,671744,null,0,m.e,[[8,null],[8,null],[8,null],[6,m.b]],{model:[0,"model"]},{update:"ngModelChange"}),e.Bb(2048,null,m.c,null,[m.e]),e.qb(17,16384,null,0,m.d,[[4,m.c]],null,null),e.qb(18,49152,null,0,h.E,[e.l],{autofocus:[0,"autofocus"]},null),(n()(),e.rb(19,0,null,null,12,"ion-item",[],null,[[null,"click"]],function(n,l,u){var o=!0;return"click"===l&&(o=!1!==e.Ab(n,21).onClick(u)&&o),o},p.C,p.i)),e.qb(20,49152,null,0,h.F,[e.l],null,null),e.qb(21,16384,null,0,f.a,[[2,v.l],e.l],null,null),(n()(),e.rb(22,0,null,0,2,"ion-label",[["position","floating"]],null,null,null,p.D,p.l)),e.qb(23,49152,null,0,h.L,[e.l],{position:[0,"position"]},null),(n()(),e.Db(-1,0,["Password"])),(n()(),e.rb(25,0,null,0,6,"ion-input",[["type","password"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionChange"],[null,"ionBlur"]],function(n,l,u){var o=!0,t=n.component;return"ionChange"===l&&(o=!1!==e.Ab(n,26)._handleInputEvent(u.target.value)&&o),"ionBlur"===l&&(o=!1!==e.Ab(n,26)._handleBlurEvent()&&o),"ngModelChange"===l&&(o=!1!==(t.user.Password=u)&&o),o},p.z,p.h)),e.qb(26,16384,null,0,C.a,[e.l],null,null),e.Bb(1024,null,m.b,function(n){return[n]},[C.a]),e.qb(28,671744,null,0,m.e,[[8,null],[8,null],[8,null],[6,m.b]],{model:[0,"model"]},{update:"ngModelChange"}),e.Bb(2048,null,m.c,null,[m.e]),e.qb(30,16384,null,0,m.d,[[4,m.c]],null,null),e.qb(31,49152,null,0,h.E,[e.l],{type:[0,"type"]},null),(n()(),e.rb(32,0,null,null,4,"ion-item",[],null,[[null,"click"]],function(n,l,u){var o=!0;return"click"===l&&(o=!1!==e.Ab(n,34).onClick(u)&&o),o},p.C,p.i)),e.qb(33,49152,null,0,h.F,[e.l],null,null),e.qb(34,16384,null,0,f.a,[[2,v.l],e.l],null,null),(n()(),e.ib(16777216,null,0,1,null,A)),e.qb(36,16384,null,0,y.i,[e.Q,e.N],{ngIf:[0,"ngIf"]},null),(n()(),e.rb(37,0,null,null,3,"ion-button",[["expand","block"]],null,[[null,"click"]],function(n,l,u){var o=!0,t=n.component;return"click"===l&&(o=!1!==e.Ab(n,39).onClick(u)&&o),"click"===l&&(o=!1!==t.login()&&o),o},p.u,p.c)),e.qb(38,49152,null,0,h.f,[e.l],{expand:[0,"expand"]},null),e.qb(39,16384,null,0,f.a,[[2,v.l],e.l],null,null),(n()(),e.Db(-1,0,["LOGIN"]))],function(n,l){var u=l.component;n(l,10,0,"floating"),n(l,15,0,u.user.Username),n(l,18,0,"true"),n(l,23,0,"floating"),n(l,28,0,u.user.Password),n(l,31,0,"password"),n(l,36,0,u.errorMsg),n(l,38,0,"block")},function(n,l){n(l,12,0,e.Ab(l,17).ngClassUntouched,e.Ab(l,17).ngClassTouched,e.Ab(l,17).ngClassPristine,e.Ab(l,17).ngClassDirty,e.Ab(l,17).ngClassValid,e.Ab(l,17).ngClassInvalid,e.Ab(l,17).ngClassPending),n(l,25,0,e.Ab(l,30).ngClassUntouched,e.Ab(l,30).ngClassTouched,e.Ab(l,30).ngClassPristine,e.Ab(l,30).ngClassDirty,e.Ab(l,30).ngClassValid,e.Ab(l,30).ngClassInvalid,e.Ab(l,30).ngClassPending)})}var P=e.nb("app-login",b,function(n){return e.Eb(0,[(n()(),e.rb(0,0,null,null,1,"app-login",[],null,null,null,q,w)),e.qb(1,114688,null,0,b,[c.a,k.a,o.a,v.l,s],null,null)],function(n,l){n(l,1,0)},null)},{},{},[]),B=u("95zI"),E=u("9opb"),M=u("apKv"),I=u("B4/3");u.d(l,"LoginPageModuleNgFactory",function(){return O});var O=e.ob(g,[],function(n){return e.xb([e.yb(512,e.k,e.db,[[8,[d.a,P]],[3,e.k],e.z]),e.yb(4608,y.k,y.j,[e.w,[2,y.r]]),e.yb(4608,m.g,m.g,[]),e.yb(4608,B.a,B.a,[e.B,e.g]),e.yb(4608,E.a,E.a,[B.a,e.k,e.s]),e.yb(4608,M.a,M.a,[B.a,e.k,e.s]),e.yb(1073742336,y.b,y.b,[]),e.yb(1073742336,m.f,m.f,[]),e.yb(1073742336,m.a,m.a,[]),e.yb(1073742336,I.a,I.a,[]),e.yb(1073742336,v.m,v.m,[[2,v.s],[2,v.l]]),e.yb(1073742336,g,g,[]),e.yb(1024,v.j,function(){return[[{path:"",component:b,children:[{path:"forgot-password",loadChildren:"./forgot-password/forgot-password.module#ForgotPasswordPageModule"}]}]]},[])])})}}]);